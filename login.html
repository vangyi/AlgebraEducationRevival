<!DOCTYPE html>
<html>
<head>
  <title>Login - Algebra Education Revival</title>
  <style>
    body { background: #FFFFFF; text-align: center; font-family: Arial; margin: 0; padding: 20px 30px; }
    h1 { color: #6B7280; font-size: 24px; margin: 20px 0; }
    .login-box { max-width: 400px; margin: 50px auto; }
    input { width: 100%; padding: 10px; margin: 10px 0; font-size: 16px; border: 1px solid #374151; }
    button { background: #6B7280; color: #FFFFFF; padding: 10px 20px; border: none; font-size: 16px; cursor: pointer; }
    button:hover { background: #FBBF24; color: #000000; }
    p { color: #374151; font-size: 16px; }
  </style>
</head>
<body>
  <h1>Algebra Education Revival</h1>
  <div class="login-box">
    <input type="email" id="email" placeholder="Email">
    <input type="password" id="password" placeholder="Password">
    <button onclick="login()">Login</button>
    <p id="error" style="display: none;">Invalid credentials. Try again.</p>
  </div>

  <!-- Firebase v10 Compat SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyBzjsMrtSsz6PFiQj2hWiXVhVdyWvbQzyY",
      authDomain: "algebraeducationrevival.firebaseapp.com",
      projectId: "algebraeducationrevival",
      storageBucket: "algebraeducationrevival.firebasestorage.app",
      messagingSenderId: "375214593841",
      appId: "1:375214593841:web:3995db8958abbb32018210"
    };
    firebase.initializeApp(firebaseConfig);
    console.log('Firebase initialized with config:', firebaseConfig);

    function login() {
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      console.log('Attempting login with:', email);
      firebase.auth().signInWithEmailAndPassword(email, password)
        .then((userCredential) => {
          console.log('Login successful, redirecting:', userCredential.user.uid);
          // Test redirect explicitly
          window.location.href = '/elon'; // Try relative
          // window.location.href = 'http://algebraeducationrevival.com/elon'; // Try absolute (uncomment if needed)
        })
        .catch((error) => {
          console.error('Login failed:', error.code, error.message);
          document.getElementById('error').style.display = 'block';
        });
    }
  </script>
</body>
</html>